.ORIG X3000

START_LOOP

LD R0, VAR_X 
LD R1, VAR_Y 

ADD R1, R1 #-1
ST R1, VAR_Y
BRn END_LOOP

LD R4, VAR_MULTI_RESULT
LD R5, VAR_X
LD R6, ZERO

START_MULTIPLICATION
ADD R5, R5, #-1
BRn END_MULTIPLICATION

ADD R6, R6, R4
BRnzp START_MULTIPLICATION

END_MULTIPLICATION
ST R6, VAR_MULTI_RESULT

BRnzp START_LOOP

END_LOOP
LD R6, VAR_MULTI_RESULT
STI R6, RESULT

HALT

VAR_X .FILL #2
VAR_Y .FILL #2
VAR_MULTI_RESULT .FILL #1
ZERO .FILL #0

RESULT .FILL x8000

.END